# reX.ts デプロイ確認手順書

この手順書は、Vercelに正常にデプロイされたreX.tsシステムの動作確認手順を説明します。

## 1. 認証設定の確認と調整

現在、デプロイされたreX.tsは認証保護がされた状態になっています。以下の方法で認証設定を調整できます：

1. [Vercelダッシュボード](https://vercel.com/dashboard)にアクセス
2. プロジェクト「rex-vector」を選択
3. 「Settings」タブをクリック
4. 左メニューから「Deployment Protection」を選択
5. 以下のいずれかの機能を調整：
   - 「Vercel Authentication」を無効化する
   - 「Password Protection」を有効化する（パスワード設定が必要）
   - 「Deployment Protection Exceptions」で特定のドメインを保護から除外する

## 2. バックエンドサービスの動作確認

バックエンドAPIが正常に機能しているか確認します：

### 2.1 ヘルスチェックエンドポイントの確認

```bash
curl https://rex-vector-7n05yc5pg-kinouecertify-gmailcoms-projects.vercel.app/api/health
```

正常な場合、ステータスコード200とヘルス情報が返ります。

### 2.2 候補者分析APIのテスト

```bash
curl -X POST -H "Content-Type: application/json" -d '{
  "resumeData": "氏名：山田太郎\n職種：フロントエンドエンジニア\n経験年数：5年\nスキル：JavaScript, React, HTML, CSS",
  "jobRequirements": "【募集職種】フロントエンドエンジニア\n【必須スキル】\n- JavaScript\n- React\n- HTML/CSS"
}' https://rex-vector-7n05yc5pg-kinouecertify-gmailcoms-projects.vercel.app/api/analyze-career
```

### 2.3 スカウトメッセージ生成APIのテスト

```bash
curl -X POST -H "Content-Type: application/json" -d '{
  "resumeData": "氏名：山田太郎\n職種：フロントエンドエンジニア\n経験年数：5年\nスキル：JavaScript, React, HTML, CSS", 
  "jobRequirements": "【募集職種】フロントエンドエンジニア\n【必須スキル】\n- JavaScript\n- React\n- HTML/CSS", 
  "hiringDecision": "採用", 
  "company": "株式会社テスト", 
  "sender": "人事部 田中", 
  "position": "採用担当"
}' https://rex-vector-7n05yc5pg-kinouecertify-gmailcoms-projects.vercel.app/api/generate-scout-message
```

### 2.4 統合APIのテスト

```bash
curl -X POST -H "Content-Type: application/json" -d '{
  "resumeData": "氏名：山田太郎\n職種：フロントエンドエンジニア\n経験年数：5年\nスキル：JavaScript, React, HTML, CSS", 
  "jobRequirements": "【募集職種】フロントエンドエンジニア\n【必須スキル】\n- JavaScript\n- React\n- HTML/CSS", 
  "company": "株式会社テスト", 
  "sender": "人事部 田中", 
  "position": "採用担当"
}' https://rex-vector-7n05yc5pg-kinouecertify-gmailcoms-projects.vercel.app/api/analyze-and-scout
```

## 3. フロントエンドの動作確認

フロントエンドアプリケーションの確認手順：

1. ブラウザで以下のメインURLにアクセス：
   ```
   https://rex-vector-7n05yc5pg-kinouecertify-gmailcoms-projects.vercel.app/
   ```

2. アプリケーションがロードされたら、以下の機能を次の順序で確認：
   - 候補者情報入力フォームが正しく表示されるか
   - 必要なフィールド（候補者情報、募集要件、会社名など）が存在するか
   - 送信ボタンが機能するか

3. テストデータを入力して送信：
   - 候補者情報フィールドにテストデータを入力
   - 募集要件フィールドにテストデータを入力
   - 会社情報を入力
   - 送信ボタンをクリック

4. 結果の確認：
   - APIからのレスポンスが正しく表示されるか
   - 候補者分析結果が表示されるか
   - 採用判断が正しく表示されるか
   - 採用判断が「採用」の場合、スカウトメッセージが生成されるか

## 4. 動作不具合時の対応

動作確認中に問題が発生した場合の対応手順：

### 4.1 認証関連の問題

- **問題**: Vercel認証画面が表示され、アクセスできない
- **対応**: 
  1. Vercelダッシュボードから「Deployment Protection」設定を確認・変更する
  2. パスワード保護に変更する場合は、簡単なパスワードを設定する

### 4.2 APIエラー

- **問題**: APIリクエストが失敗する
- **対応**:
  1. バックエンドのVercelダッシュボードでログを確認
  2. 環境変数（特にGOOGLE_API_KEY）が正しく設定されているか確認
  3. CORS設定が正しくされているか確認

### 4.3 フロントエンドの表示問題

- **問題**: フロントエンドの表示が崩れている、またはスタイルが適用されていない
- **対応**:
  1. ブラウザのコンソールでエラーを確認
  2. フロントエンドのVercelダッシュボードでビルドログを確認

## 5. まとめ

以上の手順で、reX.tsシステムが正常にデプロイされ、動作していることを確認できます。問題が発生した場合は、上記のトラブルシューティング手順に従って対応してください。

正常に動作することを確認できたら、必要に応じてカスタムドメインの設定やチームメンバーへのアクセス権限の付与を行ってください。 