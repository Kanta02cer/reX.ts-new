# reX.ts デプロイガイド

## Vercelへのデプロイ手順

reX.tsシステムをVercelにデプロイするための手順を説明します。

### 前提条件

- Vercelアカウント（無料で作成可能: https://vercel.com/signup）
- GitHubアカウント（ソースコード管理用）
- Google Gemini API キー

### 準備

1. **環境変数の準備**
   - Google Gemini API キーを取得していることを確認
   - Vercelプロジェクトで設定する環境変数のリストを用意

2. **デプロイ設定ファイルの確認**
   - `vercel.json` が正しく設定されていることを確認
   - `public: true` が設定されていることを確認（認証なしでアクセス可能にするため）

### デプロイ手順

#### 方法1: Vercel CLIを使用したデプロイ

1. **Vercel CLIでログイン**
   ```bash
   vercel login
   ```

2. **プロジェクトをデプロイ**
   ```bash
   vercel --prod
   ```
   - インタラクティブな質問に回答します
   - 環境変数（特にGOOGLE_API_KEY）を設定してください

3. **デプロイが完了したら、表示されるURLにアクセスして動作確認**

#### 方法2: Vercelダッシュボードを使用したデプロイ

1. **GitHubリポジトリの準備**
   - プロジェクトをGitHubリポジトリにプッシュ

2. **Vercelでプロジェクトをインポート**
   - Vercelダッシュボードにログイン
   - 「New Project」をクリック
   - GitHubリポジトリをインポート

3. **プロジェクト設定**
   - フレームワークプリセット: Next.js
   - ルートディレクトリ: 必要に応じて設定（通常はプロジェクトルート）
   - 環境変数の設定:
     - `GOOGLE_API_KEY`: Google Gemini APIキー
     - `NODE_ENV`: production
     - `API_TIMEOUT`: 60000

4. **デプロイ**
   - 「Deploy」ボタンをクリック
   - デプロイ完了後、提供されるURLにアクセスして動作確認

### デプロイ後の確認

1. **フロントエンドの確認**
   - メイン画面が正しく表示されるか
   - スタイリングが適切に適用されているか

2. **バックエンドAPIの確認**
   - `/api/health` エンドポイントにアクセスして正常応答が返るか
   - テスト用のAPIリクエストを送信して期待通りの応答が返るか

3. **CORS設定の確認**
   - ブラウザの開発者ツールでネットワークタブを確認
   - CORS関連のエラーがないことを確認

### トラブルシューティング

1. **デプロイに失敗する場合**
   - Vercelのデプロイログを確認
   - ビルドエラーがある場合は修正してから再デプロイ

2. **API接続エラー**
   - 環境変数が正しく設定されているか確認
   - CORSヘッダーが正しく設定されているか確認

3. **認証エラー**
   - `vercel.json`の`public`フラグが`true`に設定されているか確認
   - Vercelプロジェクト設定で認証設定を確認

### カスタムドメインの設定（オプション）

1. Vercelダッシュボードのプロジェクト設定で「Domains」セクションに移動
2. カスタムドメインを追加
3. DNSレコードの設定手順に従って設定
4. SSL証明書が自動的に設定されるのを待つ

### 継続的デプロイの設定

1. GitHubリポジトリとの連携を確認
2. デフォルトで、mainブランチへのプッシュで自動デプロイが行われる設定になっているはず
3. 必要に応じて、プロジェクト設定で自動デプロイの設定を調整

---

この手順を参考に、reX.tsシステムをVercelにデプロイしてください。問題がある場合は、Vercelのドキュメントや開発者フォーラムを参照することをお勧めします。 